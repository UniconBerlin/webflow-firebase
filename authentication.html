<!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/8.2.3/firebase-app.js"></script>

<!-- Add Firebase products that you want to use -->
<script src="https://www.gstatic.com/firebasejs/8.2.3/firebase-auth.js"></script>

<script>
  // TODO: Replace the following with your app's Firebase project configuration
  // For Firebase JavaScript SDK v7.20.0 and later, `measurementId` is an optional field
  var firebaseConfig = {
apiKey: "AIzaSyDkMZv-KmcKXb_U5bU-A-T4k4B7A041VLk",
authDomain: "unicon-participants.firebaseapp.com",
databaseURL: "https://unicon-participants.firebaseio.com",
projectId: "unicon-participants",
storageBucket: "unicon-participants.appspot.com",
messagingSenderId: "837318024871",
appId: "1:837318024871:web:724f4fad04b58294d28582",
  };

  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
</script>

<script>
  var privatePages = [
      '/participants'
  ]

  var publicPages = [
      '/log-in'
  ]

firebase.auth().onAuthStateChanged((user) => {
  var currentPath = window.location.pathname;
if (user) {
  // User is signed in, see docs for a list of available properties
  // https://firebase.google.com/docs/reference/js/firebase.User
  if(publicPages.includes(currentPath)) {
      window.location.replace('/participants');
  } else {
      var uid = user.uid;
      console.log("User is logged in")
      console.log(user.email);
        loadingScreen.style.display = 'none';
  }


} else {
    if( privatePages.includes(currentPath)){
        window.location.replace('/log-in');
    } else {
      console.log("No user is logged in");
      loadingScreen.style.display = 'none';

    }

}
});
</script>